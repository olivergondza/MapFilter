!#1: Filter modifies the pattern, filter should leave pattern unmodified.
!#2: KeyAttr Nodes aren't supported.
!#3: Attr Nodes default values are not supported
